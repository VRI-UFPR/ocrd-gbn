{
  "version": "1.0.0",
  "git_url": "https://github.com/sulzbals/gbn",
  "tools": {
    "ocrd-gbn-sbb-crop": {
      "executable": "ocrd-gbn-sbb-crop",
      "categories": [
        "Image preprocessing",
        "Layout analysis"
      ],
      "description": "Crops the input page images by predicting the actual page surface and setting the PAGE-XML Border accordingly",
      "steps": [
        "preprocessing/optimization/cropping",
        "layout/analysis"
      ],
      "input_file_grp": [
        "OCR-D-IMG"
      ],
      "output_file_grp": [
        "OCR-D-CROP"
      ],
      "parameters": {
        "model": {
          "type": "string",
          "description": "Path to Keras model to be used",
          "required": true,
          "cacheable": true
        },
        "shaping": {
          "type": "string",
          "description": "How the images must be processed in order to match the input shape of the model ('resize' for resizing to model shape and 'split' for splitting into patches)",
          "default": "resize",
          "enum": [
            "resize",
            "split"
          ]
        }
      }
    },
    "ocrd-gbn-sbb-binarize": {
      "executable": "ocrd-gbn-sbb-binarize",
      "categories": [
        "Image preprocessing",
        "Layout analysis"
      ],
      "description": "Binarizes the input page images by predicting their foreground pixels and saving it as a PAGE-XML AlternativeImage",
      "steps": [
        "preprocessing/optimization/binarization",
        "layout/analysis"
      ],
      "input_file_grp": [
        "OCR-D-IMG"
      ],
      "output_file_grp": [
        "OCR-D-BIN"
      ],
      "parameters": {
        "model": {
          "type": "string",
          "description": "Path to Keras model to be used",
          "required": true,
          "cacheable": true
        },
        "shaping": {
          "type": "string",
          "description": "How the images must be processed in order to match the input shape of the model ('resize' for resizing to model shape and 'split' for splitting into patches)",
          "default": "split",
          "enum": [
            "resize",
            "split"
          ]
        },
        "operation-level": {
          "type": "string",
          "description": "Level of the PAGE-XML hierarchy to operate on",
          "default": "page",
          "enum": [
            "page",
            "regions",
            "lines"
          ]
        }
      }
    },
    "ocrd-gbn-sbb-segment-page": {
      "executable": "ocrd-gbn-sbb-segment-page",
      "categories": [
        "Layout analysis"
      ],
      "description": "Segments the input page images by predicting the regions and setting the PAGE-XML Regions accordingly",
      "steps": [
        "layout/segmentation/region"
      ],
      "input_file_grp": [
        "OCR-D-IMG"
      ],
      "output_file_grp": [
        "OCR-D-SEG-PAGE"
      ],
      "parameters": {
        "feature_selector": {
          "type": "string",
          "description": "Comma-separated list of features the retrieved images SHOULD have (OCR-D/core API access point)",
          "default": ""
        },
        "feature_filter": {
          "type": "string",
          "description": "Comma-separated list of features the retrieved images SHOULD NOT have (OCR-D/core API access point)",
          "default": ""
        },
        "model": {
          "type": "string",
          "description": "Path to Keras model to be used for predicting regions",
          "default": "",
          "cacheable": true
        },
        "shaping": {
          "type": "string",
          "description": "How the images must be processed in order to match the input shape of the model ('resize' for resizing to model shape and 'split' for splitting into patches)",
          "default": "split",
          "enum": [
            "resize",
            "split"
          ]
        },
        "classes": {
          "type": "object",
          "description": "Dictionary specifying the classes (as PAGE-XML elements) to be considered and their respective labels",
          "default": {
            "TextRegion": 1,
            "GraphicRegion": 2,
            "ImageRegion": 3,
            "SeparatorRegion": 4
          }
        }
      }
    },
    "ocrd-gbn-sbb-segment-regions": {
      "executable": "ocrd-gbn-sbb-segment-regions",
      "categories": [
        "Layout analysis"
      ],
      "description": "Segments the input region images by predicting the text lines and setting the PAGE-XML TextLines accordingly",
      "steps": [
        "layout/segmentation/line"
      ],
      "input_file_grp": [
        "OCR-D-IMG"
      ],
      "output_file_grp": [
        "OCR-D-SEG-REG"
      ],
      "parameters": {
        "feature_selector": {
          "type": "string",
          "description": "Comma-separated list of features the retrieved images SHOULD have (OCR-D/core API access point)",
          "default": ""
        },
        "feature_filter": {
          "type": "string",
          "description": "Comma-separated list of features the retrieved images SHOULD NOT have (OCR-D/core API access point)",
          "default": ""
        },
        "model": {
          "type": "string",
          "description": "Path to Keras model to be used for predicting text lines",
          "default": "",
          "cacheable": true
        },
        "shaping": {
          "type": "string",
          "description": "How the images must be processed in order to match the input shape of the model ('resize' for resizing to model shape and 'split' for splitting into patches)",
          "default": "split",
          "enum": [
            "resize",
            "split"
          ]
        },
        "classes": {
          "type": "object",
          "description": "Dictionary specifying the classes (as PAGE-XML elements) to be considered and their respective labels",
          "default": {
            "TextLine": 1
          }
        }
      }
    }
  }
}
